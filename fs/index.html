
<html>
  <head>
    <script src="./NexusUI.min.js"></script>
  </head>
  <body>

    <div id="dial"></div>
    <div id="dial2"></div>
    <div id="seq"></div>

    <script>
      const work_queue = [];

      function queue(message) {
        work_queue.push(message)  
      }


      function run() {
        const work = work_queue.shift();
        if (work !== undefined) {
          fetch("/dials.cgi?v=" + work);
        }
      }

      setInterval(run, 25);

      var dial = new Nexus.Dial('#dial')
      dial.on('change',function(v) {
        if (work_queue.length == 0) {
          work_queue.push(v);
        }
      });
      var dial = new Nexus.Dial('#dial2')
      var sequencer = new Nexus.Sequencer('#seq',{
        'size': [400,200],
        'mode': 'toggle',
        'rows': 5,
        'columns': 10,
        'paddingRow': 10,
        'paddingColumn': 20
        })
    </script>


  </body>
</html>